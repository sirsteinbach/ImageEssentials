!function(d,n,t,e){"use strict";Foundation.libs.slider={name:"slider",version:"5.5.0",settings:{start:0,end:100,step:1,precision:null,initial:null,display_selector:"",vertical:!1,trigger_input_change:!1,on_change:function(){}},cache:{},init:function(t,e,a){Foundation.inherit(this,"throttle"),this.bindings(e,a),this.reflow()},events:function(){var a=this;d(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+a.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(t){a.cache.active||(t.preventDefault(),a.set_active_slider(d(t.target)))}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(t){if(a.cache.active)if(t.preventDefault(),d.data(a.cache.active[0],"settings").vertical){var e=0;t.pageY||(e=n.scrollY),a.calculate_position(a.cache.active,a.get_cursor_position(t,"y")+e)}else a.calculate_position(a.cache.active,a.get_cursor_position(t,"x"))}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(t){a.remove_active_slider()}).on("change.fndtn.slider",function(t){a.settings.on_change()}),a.S(n).on("resize.fndtn.slider",a.throttle(function(t){a.reflow()},300))},get_cursor_position:function(t,e){var a,n="page"+e.toUpperCase(),i="client"+e.toUpperCase();return void 0!==t[n]?a=t[n]:void 0!==t.originalEvent[i]?a=t.originalEvent[i]:t.originalEvent.touches&&t.originalEvent.touches[0]&&void 0!==t.originalEvent.touches[0][i]?a=t.originalEvent.touches[0][i]:t.currentPoint&&void 0!==t.currentPoint[e]&&(a=t.currentPoint[e]),a},set_active_slider:function(t){this.cache.active=t},remove_active_slider:function(){this.cache.active=null},calculate_position:function(a,n){var i=this,r=d.data(a[0],"settings"),s=(d.data(a[0],"handle_l"),d.data(a[0],"handle_o"),d.data(a[0],"bar_l")),o=d.data(a[0],"bar_o");requestAnimationFrame(function(){var t;t=Foundation.rtl&&!r.vertical?i.limit_to((o+s-n)/s,0,1):i.limit_to((n-o)/s,0,1),t=r.vertical?1-t:t;var e=i.normalized_value(t,r.start,r.end,r.step,r.precision);i.set_ui(a,e)})},set_ui:function(t,e){var a=d.data(t[0],"settings"),n=d.data(t[0],"handle_l"),i=d.data(t[0],"bar_l"),r=this.normalized_percentage(e,a.start,a.end),s=r*(i-n)-1,o=100*r,l=t.parent(),c=t.parent().children("input[type=hidden]");Foundation.rtl&&!a.vertical&&(s=-s),s=a.vertical?-s+i-n+1:s,this.set_translate(t,s,a.vertical),a.vertical?t.siblings(".range-slider-active-segment").css("height",o+"%"):t.siblings(".range-slider-active-segment").css("width",o+"%"),l.attr(this.attr_name(),e).trigger("change").trigger("change.fndtn.slider"),c.val(e),a.trigger_input_change&&c.trigger("change"),t[0].hasAttribute("aria-valuemin")||t.attr({"aria-valuemin":a.start,"aria-valuemax":a.end}),t.attr("aria-valuenow",e),""!=a.display_selector&&d(a.display_selector).each(function(){this.hasOwnProperty("value")?d(this).val(e):d(this).text(e)})},normalized_percentage:function(t,e,a){return Math.min(1,(t-e)/(a-e))},normalized_value:function(t,e,a,n,i){var r=t*(a-e);return((r-r%n)/n*n+(.5*n<=r%n?n:0)+e).toFixed(i)},set_translate:function(t,e,a){a?d(t).css("-webkit-transform","translateY("+e+"px)").css("-moz-transform","translateY("+e+"px)").css("-ms-transform","translateY("+e+"px)").css("-o-transform","translateY("+e+"px)").css("transform","translateY("+e+"px)"):d(t).css("-webkit-transform","translateX("+e+"px)").css("-moz-transform","translateX("+e+"px)").css("-ms-transform","translateX("+e+"px)").css("-o-transform","translateX("+e+"px)").css("transform","translateX("+e+"px)")},limit_to:function(t,e,a){return Math.min(Math.max(t,e),a)},initialize_settings:function(t){var e,a=d.extend({},this.settings,this.data_options(d(t).parent()));null===a.precision&&(e=(""+a.step).match(/\.([\d]*)/),a.precision=e&&e[1]?e[1].length:0),a.vertical?(d.data(t,"bar_o",d(t).parent().offset().top),d.data(t,"bar_l",d(t).parent().outerHeight()),d.data(t,"handle_o",d(t).offset().top),d.data(t,"handle_l",d(t).outerHeight())):(d.data(t,"bar_o",d(t).parent().offset().left),d.data(t,"bar_l",d(t).parent().outerWidth()),d.data(t,"handle_o",d(t).offset().left),d.data(t,"handle_l",d(t).outerWidth())),d.data(t,"bar",d(t).parent()),d.data(t,"settings",a)},set_initial_position:function(t){var e=d.data(t.children(".range-slider-handle")[0],"settings"),a="number"!=typeof e.initial||isNaN(e.initial)?Math.floor(.5*(e.end-e.start)/e.step)*e.step+e.start:e.initial,n=t.children(".range-slider-handle");this.set_ui(n,a)},set_value:function(t){var e=this;d("["+e.attr_name()+"]",this.scope).each(function(){d(this).attr(e.attr_name(),t)}),d(this.scope).attr(e.attr_name())&&d(this.scope).attr(e.attr_name(),t),e.reflow()},reflow:function(){var a=this;a.S("["+this.attr_name()+"]").each(function(){var t=d(this).children(".range-slider-handle")[0],e=d(this).attr(a.attr_name());a.initialize_settings(t),e?a.set_ui(d(t),parseFloat(e)):a.set_initial_position(d(this))})}}}(jQuery,window,window.document);